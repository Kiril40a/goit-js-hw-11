{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport function getImagesByQuery(query) {\n    return axios.get('https://pixabay.com/api/', {\n        params: {\n            key: '49815618-f39b281f22944c1de1a6cd368',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true'\n        }\n    })\n        .then(response => {\n            return response.data.hits;\n        })\n        .catch(error => {\n            console.error('Error fetching images:', error);\n        });\n}\n","import SimpleLightbox from 'simplelightbox';\n\nlet galleryBox = document.querySelector(\".gallery\");\nlet loaderContainer = document.querySelector(\".loader-container\");\nlet gallery = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captions: true,\n    captionSelector: 'img',\n    captionsData: \"alt\",\n    captionPosition: 'bottom',\n    animated: true\n    });\nexport function createGallery(images) {\n    let liElements = [];\n    images.forEach(elem => {\n        let li = document.createElement('li');\n        li.classList = 'gallery-item';\n\n        let link = document.createElement('a');\n        link.classList = 'gallery-link';\n        link.href = elem.largeImageURL;\n        link.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n        })\n        let descList = document.createElement('ul');\n        descList.classList = 'gallery-item-desc';\n        let descLike = document.createElement('li');\n        descLike.innerHTML = `<span>Likes: </span><span>${elem.likes}</span>`\n        let descView = document.createElement('li');\n        descView.innerHTML = `<span>Views: </span><span>${elem.views}</span>`\n        let descCom = document.createElement('li');\n        descCom.innerHTML = `<span>Comments: </span><span>${elem.comments}</span>`\n        let descDown = document.createElement('li');\n        descDown.innerHTML = `<span>Downloads: </span><span>${elem.downloads}</span>`\n        \n        descLike.classList = 'gallery-item-desc-li';\n        descView.classList = 'gallery-item-desc-li';\n        descCom.classList = 'gallery-item-desc-li';\n        descDown.classList = 'gallery-item-desc-li';\n        \n\n\n        let img = document.createElement('img');\n        img.classList = 'gallery-image';\n        img.src = elem.webformatURL;\n        img.alt = elem.tags;\n\n        link.append(img);\n        li.append(link);\n        descList.append(descLike);\n        descList.append(descView);\n        descList.append(descCom);\n        descList.append(descDown);\n        li.append(descList);\n        liElements.push(li)\n    })\n\n    galleryBox.append(...liElements);\n    gallery.refresh();\n    \n}\nexport function clearGallery() {\n    galleryBox.innerHTML = '';\n}\nexport function showLoader() {\n    loaderContainer.classList.remove('hidden');\n}\nexport function hideLoader() {\n    loaderContainer.classList.add('hidden');\n}\n","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\nimport iziToast from 'izitoast';\n\nconst form = document.querySelector(\".form\");\nconst searchInput = document.querySelector('input[name=\"search-text\"]');\nlet searchTimeout;\n\nconst toastConfig = {\n  position: 'topRight',\n  backgroundColor: 'rgba(255, 0, 0, 0.6)',\n  timeout: 3000,\n};\n\nconst showError = (message) => {\n  iziToast.show({\n    ...toastConfig,\n    message,\n  });\n};\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n\n  clearTimeout(searchTimeout);\n\n  const query = searchInput.value.trim();\n  if (!query) {\n    hideLoader();\n    showError('The search field cannot be empty');\n    return;\n  }\n\n  searchTimeout = setTimeout(() => {\n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(query)\n      .then((data) => {\n        if (!data || data.length === 0) {\n          showError('Sorry, there are no images matching your search query. Please try again!');\n        } else {\n          createGallery(data);\n        }\n      })\n      .catch((error) => {\n        console.error('Search error:', error);\n        showError('An error occurred while fetching images');\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  }, 300);\n});"],"names":["getImagesByQuery","query","axios","response","error","galleryBox","loaderContainer","gallery","SimpleLightbox","createGallery","images","liElements","elem","li","link","e","descList","descLike","descView","descCom","descDown","img","clearGallery","showLoader","hideLoader","form","searchInput","searchTimeout","toastConfig","showError","message","iziToast","data"],"mappings":"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"}